{"ast":null,"code":"var _jsxFileName = \"/home/mike/Desktop/learning/nextjs-test/pages/quote.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport useSWR from 'swr';\nimport Layout from '../components/MyLayout';\nimport Head from 'next/head';\nimport axios from 'axios';\nimport { useState } from 'react';\n/** consumimos datos desde nuestra api/randomQuote */\n\nfunction fetcher(url) {\n  return fetch(url).then(res => res.json());\n}\n\nexport default function Api() {\n  const {\n    query\n  } = useRouter();\n  const {\n    data,\n    error\n  } = useSWR(`/api/randomQuote${query.author ? '?author=' + query.author : ''}`, fetcher);\n  const author = data && data.author; // data?.author\n\n  let quote = data && data.quote; // data?.quote\n\n  if (!data) return 'Loading...';\n  if (error) return 'Failed to fetch the quote';\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    name: ''\n  });\n\n  const fetchPost = async d => {\n    const response = await axios.post('/api/randomQuote', d);\n    console.log(response);\n  };\n\n  const getuser = e => {\n    e.preventDefault();\n    fetchPost();\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, __jsx(\"title\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"quotes\"), __jsx(\"meta\", {\n    name: \"description\",\n    content: \"this is a quote route\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  })), __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(\"main\", {\n    className: \"jsx-3025287635\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3025287635\" + \" \" + \"quote\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, quote), author && __jsx(\"i\", {\n    className: \"jsx-3025287635\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"- \", author)), __jsx(\"form\", {\n    onSubmit: getuser,\n    className: \"jsx-3025287635\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    className: \"jsx-3025287635\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    type: \"submit\",\n    value: \"enviar\",\n    className: \"jsx-3025287635\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })), __jsx(_JSXStyle, {\n    id: \"3025287635\",\n    __self: this\n  }, \"main.jsx-3025287635{margin-top:1rem;padding:1rem;border:2px solid green;color:#fff;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21pa2UvRGVza3RvcC9sZWFybmluZy9uZXh0anMtdGVzdC9wYWdlcy9xdW90ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF3RGtCLEFBRzJCLGdCQUNILGFBQ1UsdUJBQ1osV0FDYiIsImZpbGUiOiIvaG9tZS9taWtlL0Rlc2t0b3AvbGVhcm5pbmcvbmV4dGpzLXRlc3QvcGFnZXMvcXVvdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3VzZVJvdXRlcn0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHVzZVNXUiBmcm9tICdzd3InO1xuaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL015TGF5b3V0JztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbi8qKiBjb25zdW1pbW9zIGRhdG9zIGRlc2RlIG51ZXN0cmEgYXBpL3JhbmRvbVF1b3RlICovXG5mdW5jdGlvbiBmZXRjaGVyKHVybCkge1xuICByZXR1cm4gZmV0Y2godXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXBpKCkge1xuICBjb25zdCB7IHF1ZXJ5IH0gPSB1c2VSb3V0ZXIoKTtcblxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSB1c2VTV1IoYC9hcGkvcmFuZG9tUXVvdGUke3F1ZXJ5LmF1dGhvciA/ICc/YXV0aG9yPScgKyBxdWVyeS5hdXRob3IgOiAnJ31gICxmZXRjaGVyKTtcblxuICBjb25zdCBhdXRob3IgPSBkYXRhICYmIGRhdGEuYXV0aG9yOyAvLyBkYXRhPy5hdXRob3JcbiAgbGV0IHF1b3RlID0gZGF0YSAmJiBkYXRhLnF1b3RlOyAvLyBkYXRhPy5xdW90ZVxuXG4gIGlmKCFkYXRhKSByZXR1cm4gJ0xvYWRpbmcuLi4nO1xuICBpZihlcnJvcikgcmV0dXJuICdGYWlsZWQgdG8gZmV0Y2ggdGhlIHF1b3RlJztcblxuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiAnJ1xuICB9KVxuXG4gIGNvbnN0IGZldGNoUG9zdCA9IGFzeW5jIChkKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KCcvYXBpL3JhbmRvbVF1b3RlJywgZCk7XG4gICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICB9IFxuXG4gIGNvbnN0IGdldHVzZXIgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBmZXRjaFBvc3QoKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgIDxIZWFkPlxuICAgICAgPHRpdGxlPnF1b3RlczwvdGl0bGU+XG4gICAgICA8bWV0YSBuYW1lPVwiZGVzY3JpcHRpb25cIiBjb250ZW50PVwidGhpcyBpcyBhIHF1b3RlIHJvdXRlXCIgLz5cbiAgICA8L0hlYWQ+XG4gICAgPExheW91dD5cbiAgICAgIDxtYWluPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicXVvdGVcIj5cbiAgICAgICAgICAgIHtxdW90ZX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHthdXRob3IgJiYgPGk+LSB7YXV0aG9yfTwvaT59XG4gICAgICA8L21haW4+XG5cbiAgICAgIDxmb3JtIG9uU3VibWl0PXtnZXR1c2VyfT5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiZW52aWFyXCIgLz5cbiAgICAgIDwvZm9ybT5cblxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICBtYWluIHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAxcmVtO1xuICAgICAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAgICAgICAgYm9yZGVyOiAycHggc29saWQgZ3JlZW47XG4gICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L0xheW91dD5cbiAgICA8Lz5cbiAgKVxufSAiXX0= */\\n/*@ sourceURL=/home/mike/Desktop/learning/nextjs-test/pages/quote.js */\")));\n}","map":{"version":3,"sources":["/home/mike/Desktop/learning/nextjs-test/pages/quote.js"],"names":["useRouter","useSWR","Layout","Head","axios","useState","fetcher","url","fetch","then","res","json","Api","query","data","error","author","quote","state","setState","name","fetchPost","d","response","post","console","log","getuser","e","preventDefault"],"mappings":";;;;AAAA,SAAQA,SAAR,QAAwB,aAAxB;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA;;AACA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AACpB,SAAOC,KAAK,CAACD,GAAD,CAAL,CAAWE,IAAX,CAAgBC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAAvB,CAAP;AACD;;AAED,eAAe,SAASC,GAAT,GAAe;AAC5B,QAAM;AAAEC,IAAAA;AAAF,MAAYb,SAAS,EAA3B;AAEA,QAAM;AAAEc,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAkBd,MAAM,CAAE,mBAAkBY,KAAK,CAACG,MAAN,GAAe,aAAaH,KAAK,CAACG,MAAlC,GAA2C,EAAG,EAAlE,EAAqEV,OAArE,CAA9B;AAEA,QAAMU,MAAM,GAAGF,IAAI,IAAIA,IAAI,CAACE,MAA5B,CAL4B,CAKQ;;AACpC,MAAIC,KAAK,GAAGH,IAAI,IAAIA,IAAI,CAACG,KAAzB,CAN4B,CAMI;;AAEhC,MAAG,CAACH,IAAJ,EAAU,OAAO,YAAP;AACV,MAAGC,KAAH,EAAU,OAAO,2BAAP;AAEV,QAAM;AAAA,OAACG,KAAD;AAAA,OAAQC;AAAR,MAAoBd,QAAQ,CAAC;AACjCe,IAAAA,IAAI,EAAE;AAD2B,GAAD,CAAlC;;AAIA,QAAMC,SAAS,GAAG,MAAOC,CAAP,IAAa;AAC7B,UAAMC,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,IAAN,CAAW,kBAAX,EAA+BF,CAA/B,CAAvB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACD,GAHD;;AAKA,QAAMI,OAAO,GAAIC,CAAD,IAAO;AACrBA,IAAAA,CAAC,CAACC,cAAF;AACAR,IAAAA,SAAS;AACV,GAHD;;AAKA,SACE,4BACA,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE;AAAM,IAAA,IAAI,EAAC,aAAX;AAAyB,IAAA,OAAO,EAAC,uBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADA,EAKA,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA,wCAAe,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,KADH,CADJ,EAIOD,MAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAMA,MAAN,CAJjB,CADF,EAQE;AAAM,IAAA,QAAQ,EAAEW,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CARF;AAAA;AAAA;AAAA,2qFALA,CADF;AA8BD","sourcesContent":["import {useRouter} from 'next/router';\nimport useSWR from 'swr';\nimport Layout from '../components/MyLayout';\nimport Head from 'next/head';\nimport axios from 'axios';\nimport { useState } from 'react';\n\n/** consumimos datos desde nuestra api/randomQuote */\nfunction fetcher(url) {\n  return fetch(url).then(res => res.json());\n}\n\nexport default function Api() {\n  const { query } = useRouter();\n\n  const { data, error } = useSWR(`/api/randomQuote${query.author ? '?author=' + query.author : ''}` ,fetcher);\n\n  const author = data && data.author; // data?.author\n  let quote = data && data.quote; // data?.quote\n\n  if(!data) return 'Loading...';\n  if(error) return 'Failed to fetch the quote';\n\n  const [state, setState] = useState({\n    name: ''\n  })\n\n  const fetchPost = async (d) => {\n    const response = await axios.post('/api/randomQuote', d);\n    console.log(response);\n  } \n\n  const getuser = (e) => {\n    e.preventDefault();\n    fetchPost()\n  }\n\n  return (\n    <>\n    <Head>\n      <title>quotes</title>\n      <meta name=\"description\" content=\"this is a quote route\" />\n    </Head>\n    <Layout>\n      <main>\n          <div className=\"quote\">\n            {quote}\n          </div>\n            {author && <i>- {author}</i>}\n      </main>\n\n      <form onSubmit={getuser}>\n        <input type=\"text\"/>\n        <input type=\"submit\" value=\"enviar\" />\n      </form>\n\n      <style jsx>{`\n        main {\n          margin-top: 1rem;\n          padding: 1rem;\n          border: 2px solid green;\n          color: #fff;\n        }\n      `}</style>\n    </Layout>\n    </>\n  )\n} "]},"metadata":{},"sourceType":"module"}