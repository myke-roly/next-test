{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../components/MyLayout';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport axios from 'axios';\nimport { useState } from 'react';\n\nconst CustomServer = ({\n  data\n}) => {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    name: '',\n    email: ''\n  });\n\n  const fetchData = async () => {\n    const response = await axios.post('/auth', state);\n    console.log(data);\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetchData();\n  }\n\n  function handleChange(e) {\n    setState({\n      [e.target.name]: e.target.name\n    });\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"Custom server\"), __jsx(\"meta\", {\n    name: \"description\",\n    content: \"this is a tv route\"\n  })), __jsx(Layout, null, __jsx(\"div\", {\n    className: \"jsx-316292032\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-316292032\"\n  }, \"Custom Server\"), __jsx(\"table\", {\n    border: \"1\",\n    className: \"jsx-316292032\"\n  }, __jsx(\"thead\", {\n    className: \"jsx-316292032\"\n  }, __jsx(\"tr\", {\n    className: \"jsx-316292032\"\n  }, __jsx(\"th\", {\n    className: \"jsx-316292032\"\n  }, \"USERS\"), __jsx(\"th\", {\n    className: \"jsx-316292032\"\n  }, \"@\"))), __jsx(\"tbody\", {\n    className: \"jsx-316292032\"\n  }, data.map(user => __jsx(\"tr\", {\n    key: user._id,\n    className: \"jsx-316292032\"\n  }, __jsx(\"td\", {\n    className: \"jsx-316292032\"\n  }, user.name), __jsx(\"td\", {\n    className: \"jsx-316292032\"\n  }, user.email))))), __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-316292032\"\n  }, __jsx(\"label\", {\n    htmlFor: \"name\",\n    className: \"jsx-316292032\"\n  }, \"Name: \"), __jsx(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    name: \"name\",\n    value: state.name,\n    onChange: handleChange,\n    className: \"jsx-316292032\"\n  }), __jsx(\"label\", {\n    htmlFor: \"email\",\n    className: \"jsx-316292032\"\n  }, \"Email: \"), __jsx(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    value: state.email,\n    onChange: handleChange,\n    className: \"jsx-316292032\"\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-316292032\"\n  }, \"Save data\")), __jsx(_JSXStyle, {\n    id: \"316292032\"\n  }, \"table.jsx-316292032,form.jsx-316292032 input.jsx-316292032{width:100%;padding:.5rem 1rem;}.jsx-316292032{width:50%;margin:2rem auto;border:none;}thead.jsx-316292032{background:#000;color:#fff;}tbody.jsx-316292032{margin-top:10px;background:#fff0cc;color:#333;}th.jsx-316292032,td.jsx-316292032{border-radius:2px;padding:0.5rem 1rem;border:none;box-shadow:0 0 7px rgba(0,0,0,.3);}input.jsx-316292032{width:100%;padding:.5rem 1rem;}button.jsx-316292032{margin-top:2rem;padding:0.5rem 1rem;background:black;border:none;color:white;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21pa2UvRGVza3RvcC9sZWFybmluZy9uZXh0anMtdGVzdC9wYWdlcy9jdXN0b20tc2VydmVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZEYSxBQUk0QixBQUdELEFBS00sQUFJQSxBQU1FLEFBTVAsQUFJSyxVQXhCQyxDQUhFLEFBd0JBLEtBaEJSLEFBSVEsQUFnQkMsRUFWQSxTQWRSLEFBS2QsR0FSQSxBQXdCQSxLQVphLENBZ0JNLEVBVkwsQ0FkZCxPQVNBLElBTW9DLEdBVXRCLFlBQ0EsWUFDZCxPQVhBIiwiZmlsZSI6Ii9ob21lL21pa2UvRGVza3RvcC9sZWFybmluZy9uZXh0anMtdGVzdC9wYWdlcy9jdXN0b20tc2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL015TGF5b3V0JztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5pbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy11bmZldGNoJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgQ3VzdG9tU2VydmVyID0gKHsgZGF0YSB9KSA9PiB7XG5cbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogJycsXG4gICAgZW1haWw6ICcnXG4gIH0pO1xuXG4gIGNvbnN0IGZldGNoRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoJy9hdXRoJywgc3RhdGUpO1xuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU3VibWl0KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZmV0Y2hEYXRhKCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZSkge1xuICAgIHNldFN0YXRlKHsgW2UudGFyZ2V0Lm5hbWVdOiBlLnRhcmdldC5uYW1lfSk7XG4gIH0gXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT5DdXN0b20gc2VydmVyPC90aXRsZT5cbiAgICAgICAgPG1ldGEgbmFtZT1cImRlc2NyaXB0aW9uXCIgY29udGVudD1cInRoaXMgaXMgYSB0diByb3V0ZVwiIC8+XG4gICAgICA8L0hlYWQ+XG4gICAgICA8TGF5b3V0PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMj5DdXN0b20gU2VydmVyPC9oMj5cbiAgICAgICAgICA8dGFibGUgYm9yZGVyPVwiMVwiPlxuICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRoPlVTRVJTPC90aD5cbiAgICAgICAgICAgICAgICA8dGg+QDwvdGg+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICB7ZGF0YS5tYXAoKHVzZXIpID0+IChcbiAgICAgICAgICAgICAgICA8dHIga2V5PXt1c2VyLl9pZH0+XG4gICAgICAgICAgICAgICAgICA8dGQ+e3VzZXIubmFtZX08L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkPnt1c2VyLmVtYWlsfTwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgIDwvdGFibGU+XG5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwibmFtZVwiPk5hbWU6IDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cIm5hbWVcIiBuYW1lPVwibmFtZVwiIHZhbHVlPXtzdGF0ZS5uYW1lfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPlxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJlbWFpbFwiPkVtYWlsOiA8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIGlkPVwiZW1haWxcIiBuYW1lPVwiZW1haWxcIiB2YWx1ZT17c3RhdGUuZW1haWx9IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9Lz5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPlNhdmUgZGF0YTwvYnV0dG9uPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgdGFibGUsIGZvcm1cbiAgICAgICAgICAgICAgaW5wdXQge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IC41cmVtIDFyZW07XG4gICAgICAgICAgICAgIH0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiA1MCU7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAycmVtIGF1dG87XG4gICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoZWFkIHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMDAwO1xuICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRib2R5IHtcbiAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmYwY2M7XG4gICAgICAgICAgICAgICAgY29sb3I6ICMzMzM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGgsXG4gICAgICAgICAgICAgIHRkIHtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC41cmVtIDFyZW07XG4gICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCA3cHggcmdiYSgwLDAsMCwuMyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaW5wdXQge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IC41cmVtIDFyZW07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnV0dG9uIHtcbiAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAycmVtO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGJsYWNrO1xuICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGB9XG4gICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0xheW91dD5cbiAgICA8Lz5cbiAgKTtcbn07XG5cbkN1c3RvbVNlcnZlci5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyAoY3R4KSA9PiB7XG4gIGNvbnN0IHVybCA9IGAke3Byb2Nlc3MuZW52LlVSTH0vYXV0aGA7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICByZXR1cm4geyBkYXRhIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDdXN0b21TZXJ2ZXI7XG4iXX0= */\\n/*@ sourceURL=/home/mike/Desktop/learning/nextjs-test/pages/custom-server.js */\"))));\n};\n\nCustomServer.getInitialProps = async ctx => {\n  const url = `${process.env.URL}/auth`;\n  const response = await fetch(url);\n  const data = await response.json();\n  return {\n    data\n  };\n};\n\nexport default CustomServer;","map":{"version":3,"sources":["/home/mike/Desktop/learning/nextjs-test/pages/custom-server.js"],"names":["Layout","Head","fetch","axios","useState","CustomServer","data","state","setState","name","email","fetchData","response","post","console","log","handleSubmit","e","preventDefault","handleChange","target","map","user","_id","getInitialProps","ctx","url","process","env","URL","json"],"mappings":"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","sourcesContent":["import Layout from '../components/MyLayout';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport axios from 'axios';\nimport { useState } from 'react';\n\nconst CustomServer = ({ data }) => {\n\n  const [state, setState] = useState({\n    name: '',\n    email: ''\n  });\n\n  const fetchData = async () => {\n    const response = await axios.post('/auth', state);\n    console.log(data);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetchData();\n  }\n\n  function handleChange(e) {\n    setState({ [e.target.name]: e.target.name});\n  } \n\n  return (\n    <>\n      <Head>\n        <title>Custom server</title>\n        <meta name=\"description\" content=\"this is a tv route\" />\n      </Head>\n      <Layout>\n        <div>\n          <h2>Custom Server</h2>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                <th>USERS</th>\n                <th>@</th>\n              </tr>\n            </thead>\n            <tbody>\n              {data.map((user) => (\n                <tr key={user._id}>\n                  <td>{user.name}</td>\n                  <td>{user.email}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n\n          <form onSubmit={handleSubmit}>\n            <label htmlFor=\"name\">Name: </label>\n            <input type=\"text\" id=\"name\" name=\"name\" value={state.name} onChange={handleChange} />\n            <label htmlFor=\"email\">Email: </label>\n            <input type=\"email\" id=\"email\" name=\"email\" value={state.email} onChange={handleChange}/>\n            <button type=\"submit\">Save data</button>\n          </form>\n          <style jsx>\n            {`\n              table, form\n              input {\n                width: 100%;\n                padding: .5rem 1rem;\n              } {\n                width: 50%;\n                margin: 2rem auto;\n                border: none;\n              }\n              thead {\n                background: #000;\n                color: #fff;\n              }\n              tbody {\n                margin-top: 10px;\n                background: #fff0cc;\n                color: #333;\n              }\n              th,\n              td {\n                border-radius: 2px;\n                padding: 0.5rem 1rem;\n                border: none;\n                box-shadow: 0 0 7px rgba(0,0,0,.3);\n              }\n              input {\n                width: 100%;\n                padding: .5rem 1rem;\n              }\n              button {\n                margin-top: 2rem;\n                padding: 0.5rem 1rem;\n                background: black;\n                border: none;\n                color: white;\n              }\n            `}\n          </style>\n        </div>\n      </Layout>\n    </>\n  );\n};\n\nCustomServer.getInitialProps = async (ctx) => {\n  const url = `${process.env.URL}/auth`;\n  const response = await fetch(url);\n  const data = await response.json();\n\n  return { data };\n};\n\nexport default CustomServer;\n"]},"metadata":{},"sourceType":"module"}