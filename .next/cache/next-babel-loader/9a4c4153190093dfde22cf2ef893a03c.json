{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../components/MyLayout';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\n\nvar CustomServer = function CustomServer(_ref) {\n  var data = _ref.data;\n\n  var _useState = useState(''),\n      msg = _useState[0],\n      setMsg = _useState[1];\n\n  var _useState2 = useState({\n    name: '',\n    email: ''\n  }),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  useEffect(function () {\n    if (msg) {\n      setTimeout(function () {\n        setMsg('');\n      }, 3000);\n    }\n  }, [msg]);\n\n  var fetchData = function fetchData() {\n    var name, email, response;\n    return _regeneratorRuntime.async(function fetchData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            name = state.name, email = state.email;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.post('/auth', {\n              name: name,\n              email: email\n            }));\n\n          case 3:\n            response = _context.sent;\n            setMsg(response.data.message);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetchData();\n  }\n\n  function handleChange(e) {\n    setState(_defineProperty({}, e.target.name, e.target.value));\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"Custom server\"), __jsx(\"meta\", {\n    name: \"description\",\n    content: \"this is a tv route\"\n  })), __jsx(Layout, null, __jsx(\"div\", {\n    className: \"jsx-3898435241\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-3898435241\"\n  }, \"Custom Server\"), __jsx(\"main\", {\n    className: \"jsx-3898435241\"\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-3898435241\"\n  }, __jsx(\"label\", {\n    htmlFor: \"name\",\n    className: \"jsx-3898435241\"\n  }, \"Name: \"), __jsx(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    name: \"name\",\n    value: state.name,\n    onChange: handleChange,\n    className: \"jsx-3898435241\"\n  }), __jsx(\"label\", {\n    htmlFor: \"email\",\n    className: \"jsx-3898435241\"\n  }, \"Email: \"), __jsx(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    value: state.email,\n    onChange: handleChange,\n    className: \"jsx-3898435241\"\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-3898435241\"\n  }, \"Save data\"), msg && __jsx(\"p\", {\n    className: \"jsx-3898435241\"\n  }, msg)), __jsx(\"table\", {\n    border: \"1\",\n    className: \"jsx-3898435241\"\n  }, __jsx(\"thead\", {\n    className: \"jsx-3898435241\"\n  }, __jsx(\"tr\", {\n    className: \"jsx-3898435241\"\n  }, __jsx(\"th\", {\n    className: \"jsx-3898435241\"\n  }, \"USERS\"), __jsx(\"th\", {\n    className: \"jsx-3898435241\"\n  }, \"@\"))), __jsx(\"tbody\", {\n    className: \"jsx-3898435241\"\n  }, data.map(function (user) {\n    return __jsx(\"tr\", {\n      key: user._id,\n      className: \"jsx-3898435241\"\n    }, __jsx(\"td\", {\n      className: \"jsx-3898435241\"\n    }, user.name), __jsx(\"td\", {\n      className: \"jsx-3898435241\"\n    }, user.email));\n  })))), __jsx(_JSXStyle, {\n    id: \"3898435241\"\n  }, \"main.jsx-3898435241{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media (max-width:720px){main.jsx-3898435241{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}table.jsx-3898435241,form.jsx-3898435241{width:100%;margin:2rem auto;background:#000;padding:2rem;border:none;border-radius:5px;}thead.jsx-3898435241{background:#222;color:#fff;}tbody.jsx-3898435241{background:#dedede;color:#333;}th.jsx-3898435241,td.jsx-3898435241{border-radius:2px;padding:0.5rem 1rem;border:none;box-shadow:0 0 7px rgba(0,0,0,0.3);}form.jsx-3898435241{width:100%;margin:2rem auto;background:#dedede;padding:2rem;}input.jsx-3898435241{width:100%;padding:0.7rem 1rem;border:none;border-radius:5px;margin:0.5rem 0;}p.jsx-3898435241{color:yellow;text-transform:uppercase;font-size:1rem;}button.jsx-3898435241{padding:0.7rem 1rem;background:black;border:none;color:white;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21pa2UvRGVza3RvcC9sZWFybmluZy9uZXh0anMtdGVzdC9wYWdlcy9jdXN0b20tc2VydmVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW9GYSxBQUc4QixBQUlXLEFBS2IsQUFRSyxBQUlHLEFBS0QsQUFNUCxBQU1BLEFBT0UsQUFLTyxXQXhDSCxBQXVCQSxBQU1HLEVBT0ssR0E1QmQsRUFTUyxDQUxULENBNkJNLE9BaENuQixDQVJrQixBQXVCRyxFQVhyQixDQWlCYyxNQVlBLENBeEJBLEFBbUJHLEtBTkcsQ0E3QkwsR0F1QkEsRUFrQkQsQ0F4QjBCLEdBbUJ4QyxJQW5DYyxHQXVCZCxDQU1rQixBQVlsQixRQXhDb0IsS0FicEIsR0EwQ0EsQ0F0Q0UsT0F5QkYsRUFmQSIsImZpbGUiOiIvaG9tZS9taWtlL0Rlc2t0b3AvbGVhcm5pbmcvbmV4dGpzLXRlc3QvcGFnZXMvY3VzdG9tLXNlcnZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMYXlvdXQgZnJvbSAnLi4vY29tcG9uZW50cy9NeUxheW91dCc7XG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtdW5mZXRjaCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgQ3VzdG9tU2VydmVyID0gKHsgZGF0YSB9KSA9PiB7XG4gIGNvbnN0IFttc2csIHNldE1zZ10gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6ICcnLFxuICAgIGVtYWlsOiAnJyxcbiAgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobXNnKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0TXNnKCcnKTtcbiAgICAgIH0sIDMwMDApO1xuICAgIH1cbiAgfSwgW21zZ10pO1xuXG4gIGNvbnN0IGZldGNoRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIGVtYWlsIH0gPSBzdGF0ZTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoJy9hdXRoJywgeyBuYW1lLCBlbWFpbCB9KTtcbiAgICBzZXRNc2cocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTtcbiAgfTtcblxuICBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBmZXRjaERhdGEoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgc2V0U3RhdGUoeyBbZS50YXJnZXQubmFtZV06IGUudGFyZ2V0LnZhbHVlIH0pO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT5DdXN0b20gc2VydmVyPC90aXRsZT5cbiAgICAgICAgPG1ldGEgbmFtZT1cImRlc2NyaXB0aW9uXCIgY29udGVudD1cInRoaXMgaXMgYSB0diByb3V0ZVwiIC8+XG4gICAgICA8L0hlYWQ+XG4gICAgICA8TGF5b3V0PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMj5DdXN0b20gU2VydmVyPC9oMj5cbiAgICAgICAgICA8bWFpbj5cbiAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cIm5hbWVcIj5OYW1lOiA8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3N0YXRlLm5hbWV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJlbWFpbFwiPkVtYWlsOiA8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgIGlkPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3N0YXRlLmVtYWlsfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPlNhdmUgZGF0YTwvYnV0dG9uPlxuICAgICAgICAgICAgICB7bXNnICYmIDxwPnttc2d9PC9wPn1cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgIDx0YWJsZSBib3JkZXI9XCIxXCI+XG4gICAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICA8dGg+VVNFUlM8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoPkA8L3RoPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICB7ZGF0YS5tYXAoKHVzZXIpID0+IChcbiAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e3VzZXIuX2lkfT5cbiAgICAgICAgICAgICAgICAgICAgPHRkPnt1c2VyLm5hbWV9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPnt1c2VyLmVtYWlsfTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICA8L21haW4+XG4gICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgIG1haW4ge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDcyMHB4KSB7XG4gICAgICAgICAgICAgICAgbWFpbiB7XG4gICAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgICAgZm9ybSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAycmVtIGF1dG87XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzAwMDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAycmVtO1xuICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhlYWQge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMyMjI7XG4gICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGJvZHkge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNkZWRlZGU7XG4gICAgICAgICAgICAgICAgY29sb3I6ICMzMzM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGgsXG4gICAgICAgICAgICAgIHRkIHtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC41cmVtIDFyZW07XG4gICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCA3cHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZvcm0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMnJlbSBhdXRvO1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNkZWRlZGU7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMnJlbTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpbnB1dCB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC43cmVtIDFyZW07XG4gICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDAuNXJlbSAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHAge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB5ZWxsb3c7XG4gICAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnV0dG9uIHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLjdyZW0gMXJlbTtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBibGFjaztcbiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgfVxuICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9MYXlvdXQ+XG4gICAgPC8+XG4gICk7XG59O1xuXG5DdXN0b21TZXJ2ZXIuZ2V0SW5pdGlhbFByb3BzID0gYXN5bmMgKGN0eCkgPT4ge1xuICBjb25zdCB1cmwgPSBgJHtwcm9jZXNzLmVudi5VUkx9L2F1dGhgO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgcmV0dXJuIHsgZGF0YSB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ3VzdG9tU2VydmVyO1xuIl19 */\\n/*@ sourceURL=/home/mike/Desktop/learning/nextjs-test/pages/custom-server.js */\"))));\n};\n\nCustomServer.getInitialProps = function _callee(ctx) {\n  var url, response, data;\n  return _regeneratorRuntime.async(function _callee$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          url = \"\".concat(process.env.URL, \"/auth\");\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(fetch(url));\n\n        case 3:\n          response = _context2.sent;\n          _context2.next = 6;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 6:\n          data = _context2.sent;\n          return _context2.abrupt(\"return\", {\n            data: data\n          });\n\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  });\n};\n\nexport default CustomServer;","map":{"version":3,"sources":["/home/mike/Desktop/learning/nextjs-test/pages/custom-server.js"],"names":["Layout","Head","fetch","axios","useState","useEffect","CustomServer","data","msg","setMsg","name","email","state","setState","setTimeout","fetchData","post","response","message","handleSubmit","e","preventDefault","handleChange","target","value","map","user","_id","getInitialProps","ctx","url","process","env","URL","json"],"mappings":"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","sourcesContent":["import Layout from '../components/MyLayout';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\n\nconst CustomServer = ({ data }) => {\n  const [msg, setMsg] = useState('');\n  const [state, setState] = useState({\n    name: '',\n    email: '',\n  });\n\n  useEffect(() => {\n    if (msg) {\n      setTimeout(() => {\n        setMsg('');\n      }, 3000);\n    }\n  }, [msg]);\n\n  const fetchData = async () => {\n    const { name, email } = state;\n    const response = await axios.post('/auth', { name, email });\n    setMsg(response.data.message);\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetchData();\n  }\n\n  function handleChange(e) {\n    setState({ [e.target.name]: e.target.value });\n  }\n\n  return (\n    <>\n      <Head>\n        <title>Custom server</title>\n        <meta name=\"description\" content=\"this is a tv route\" />\n      </Head>\n      <Layout>\n        <div>\n          <h2>Custom Server</h2>\n          <main>\n            <form onSubmit={handleSubmit}>\n              <label htmlFor=\"name\">Name: </label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                name=\"name\"\n                value={state.name}\n                onChange={handleChange}\n              />\n              <label htmlFor=\"email\">Email: </label>\n              <input\n                type=\"email\"\n                id=\"email\"\n                name=\"email\"\n                value={state.email}\n                onChange={handleChange}\n              />\n              <button type=\"submit\">Save data</button>\n              {msg && <p>{msg}</p>}\n            </form>\n            <table border=\"1\">\n              <thead>\n                <tr>\n                  <th>USERS</th>\n                  <th>@</th>\n                </tr>\n              </thead>\n              <tbody>\n                {data.map((user) => (\n                  <tr key={user._id}>\n                    <td>{user.name}</td>\n                    <td>{user.email}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </main>\n          <style jsx>\n            {`\n              main {\n                display: flex;\n              }\n              @media (max-width: 720px) {\n                main {\n                  flex-direction: column;\n                }\n              }\n              table,\n              form {\n                width: 100%;\n                margin: 2rem auto;\n                background: #000;\n                padding: 2rem;\n                border: none;\n                border-radius: 5px;\n              }\n              thead {\n                background: #222;\n                color: #fff;\n              }\n              tbody {\n                background: #dedede;\n                color: #333;\n              }\n              th,\n              td {\n                border-radius: 2px;\n                padding: 0.5rem 1rem;\n                border: none;\n                box-shadow: 0 0 7px rgba(0, 0, 0, 0.3);\n              }\n              form {\n                width: 100%;\n                margin: 2rem auto;\n                background: #dedede;\n                padding: 2rem;\n              }\n              input {\n                width: 100%;\n                padding: 0.7rem 1rem;\n                border: none;\n                border-radius: 5px;\n                margin: 0.5rem 0;\n              }\n              p {\n                color: yellow;\n                text-transform: uppercase;\n                font-size: 1rem;\n              }\n              button {\n                padding: 0.7rem 1rem;\n                background: black;\n                border: none;\n                color: white;\n              }\n            `}\n          </style>\n        </div>\n      </Layout>\n    </>\n  );\n};\n\nCustomServer.getInitialProps = async (ctx) => {\n  const url = `${process.env.URL}/auth`;\n  const response = await fetch(url);\n  const data = await response.json();\n\n  return { data };\n};\n\nexport default CustomServer;\n"]},"metadata":{},"sourceType":"module"}