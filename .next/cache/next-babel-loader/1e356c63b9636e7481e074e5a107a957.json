{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../components/MyLayout';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport axios from 'axios';\n\nvar CustomServer = function CustomServer(_ref) {\n  var data = _ref.data;\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"Custom server\"), __jsx(\"meta\", {\n    name: \"description\",\n    content: \"this is a tv route\"\n  })), __jsx(Layout, null, __jsx(\"div\", {\n    className: \"jsx-541346852\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-541346852\"\n  }, \"Custom Server\"), __jsx(\"table\", {\n    border: \"1\",\n    className: \"jsx-541346852\"\n  }, __jsx(\"thead\", {\n    className: \"jsx-541346852\"\n  }, __jsx(\"tr\", {\n    className: \"jsx-541346852\"\n  }, __jsx(\"th\", {\n    className: \"jsx-541346852\"\n  }, \"USERS\"), __jsx(\"th\", {\n    className: \"jsx-541346852\"\n  }, \"@\"))), __jsx(\"tbody\", {\n    className: \"jsx-541346852\"\n  }, data.map(function (user) {\n    return __jsx(\"tr\", {\n      key: user._id,\n      className: \"jsx-541346852\"\n    }, __jsx(\"td\", {\n      className: \"jsx-541346852\"\n    }, user.name), __jsx(\"td\", {\n      className: \"jsx-541346852\"\n    }, user.email));\n  }))), __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-541346852\"\n  }, __jsx(\"label\", {\n    htmlFor: \"name\",\n    className: \"jsx-541346852\"\n  }, \"Name: \"), __jsx(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    value: state.name,\n    onChange: handleChange,\n    className: \"jsx-541346852\"\n  }), __jsx(\"label\", {\n    htmlFor: \"email\",\n    className: \"jsx-541346852\"\n  }, \"Email: \"), __jsx(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    value: state.email,\n    onChange: handleChange,\n    className: \"jsx-541346852\"\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-541346852\"\n  }, \"Save data\")), __jsx(_JSXStyle, {\n    id: \"541346852\"\n  }, \"table.jsx-541346852{width:50%;margin:2rem auto;border:none;}thead.jsx-541346852{background:#000;color:#fff;}tbody.jsx-541346852{margin-top:10px;background:#fff0cc;color:#333;}th.jsx-541346852,td.jsx-541346852{border-radius:2px;padding:0.5rem 1rem;border:none;box-shadow:0 0 7px rgba(0,0,0,.3);}button.jsx-541346852{margin-top:2rem;padding:0.5rem 1rem;background:black;border:none;color:white;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21pa2UvRGVza3RvcC9sZWFybmluZy9uZXh0anMtdGVzdC9wYWdlcy9jdXN0b20tc2VydmVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXdDYSxBQUcyQixBQUtNLEFBSUEsQUFNRSxBQU1GLFVBcEJDLE1BS04sQUFJUSxBQVlDLEVBTkEsU0FkUixBQUtkLFFBSWEsQ0FZTSxFQU5MLENBZGQsT0FTQSxJQU1vQyxHQU10QixZQUNBLFlBQ2QsT0FQQSIsImZpbGUiOiIvaG9tZS9taWtlL0Rlc2t0b3AvbGVhcm5pbmcvbmV4dGpzLXRlc3QvcGFnZXMvY3VzdG9tLXNlcnZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMYXlvdXQgZnJvbSAnLi4vY29tcG9uZW50cy9NeUxheW91dCc7XG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtdW5mZXRjaCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5jb25zdCBDdXN0b21TZXJ2ZXIgPSAoeyBkYXRhIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT5DdXN0b20gc2VydmVyPC90aXRsZT5cbiAgICAgICAgPG1ldGEgbmFtZT1cImRlc2NyaXB0aW9uXCIgY29udGVudD1cInRoaXMgaXMgYSB0diByb3V0ZVwiIC8+XG4gICAgICA8L0hlYWQ+XG4gICAgICA8TGF5b3V0PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMj5DdXN0b20gU2VydmVyPC9oMj5cbiAgICAgICAgICA8dGFibGUgYm9yZGVyPVwiMVwiPlxuICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRoPlVTRVJTPC90aD5cbiAgICAgICAgICAgICAgICA8dGg+QDwvdGg+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICB7ZGF0YS5tYXAoKHVzZXIpID0+IChcbiAgICAgICAgICAgICAgICA8dHIga2V5PXt1c2VyLl9pZH0+XG4gICAgICAgICAgICAgICAgICA8dGQ+e3VzZXIubmFtZX08L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkPnt1c2VyLmVtYWlsfTwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgIDwvdGFibGU+XG5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwibmFtZVwiPk5hbWU6IDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cIm5hbWVcIiB2YWx1ZT17c3RhdGUubmFtZX0gb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX0gLz5cbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiZW1haWxcIj5FbWFpbDogPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBpZD1cImVtYWlsXCIgdmFsdWU9e3N0YXRlLmVtYWlsfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfS8+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj5TYXZlIGRhdGE8L2J1dHRvbj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgIHRhYmxlIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogNTAlO1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMnJlbSBhdXRvO1xuICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGVhZCB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzAwMDtcbiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0Ym9keSB7XG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmMGNjO1xuICAgICAgICAgICAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoLFxuICAgICAgICAgICAgICB0ZCB7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xuICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgN3B4IHJnYmEoMCwwLDAsLjMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJ1dHRvbiB7XG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMnJlbTtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBibGFjaztcbiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgfVxuICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9MYXlvdXQ+XG4gICAgPC8+XG4gICk7XG59O1xuXG5DdXN0b21TZXJ2ZXIuZ2V0SW5pdGlhbFByb3BzID0gYXN5bmMgKGN0eCkgPT4ge1xuICBjb25zdCB1cmwgPSBgJHtwcm9jZXNzLmVudi5VUkx9L2F1dGhgO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgcmV0dXJuIHsgZGF0YSB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ3VzdG9tU2VydmVyO1xuIl19 */\\n/*@ sourceURL=/home/mike/Desktop/learning/nextjs-test/pages/custom-server.js */\"))));\n};\n\nCustomServer.getInitialProps = function _callee(ctx) {\n  var url, response, data;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          url = \"\".concat(process.env.URL, \"/auth\");\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(fetch(url));\n\n        case 3:\n          response = _context.sent;\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 6:\n          data = _context.sent;\n          return _context.abrupt(\"return\", {\n            data: data\n          });\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default CustomServer;","map":{"version":3,"sources":["/home/mike/Desktop/learning/nextjs-test/pages/custom-server.js"],"names":["Layout","Head","fetch","axios","CustomServer","data","map","user","_id","name","email","handleSubmit","state","handleChange","getInitialProps","ctx","url","process","env","URL","response","json"],"mappings":";;;;AAAA,OAAOA,MAAP,MAAmB,wBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAAc;AAAA,MAAXC,IAAW,QAAXA,IAAW;AACjC,SACE,4BACE,MAAC,IAAD,QACE,qCADF,EAEE;AAAM,IAAA,IAAI,EAAC,aAAX;AAAyB,IAAA,OAAO,EAAC;AAAjC,IAFF,CADF,EAKE,MAAC,MAAD,QACE;AAAA;AAAA,KACE;AAAA;AAAA,qBADF,EAEE;AAAO,IAAA,MAAM,EAAC,GAAd;AAAA;AAAA,KACE;AAAA;AAAA,KACE;AAAA;AAAA,KACE;AAAA;AAAA,aADF,EAEE;AAAA;AAAA,SAFF,CADF,CADF,EAOE;AAAA;AAAA,KACGA,IAAI,CAACC,GAAL,CAAS,UAACC,IAAD;AAAA,WACR;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACC,GAAd;AAAA;AAAA,OACE;AAAA;AAAA,OAAKD,IAAI,CAACE,IAAV,CADF,EAEE;AAAA;AAAA,OAAKF,IAAI,CAACG,KAAV,CAFF,CADQ;AAAA,GAAT,CADH,CAPF,CAFF,EAmBE;AAAM,IAAA,QAAQ,EAAEC,YAAhB;AAAA;AAAA,KACE;AAAO,IAAA,OAAO,EAAC,MAAf;AAAA;AAAA,cADF,EAEE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,EAAE,EAAC,MAAtB;AAA6B,IAAA,KAAK,EAAEC,KAAK,CAACH,IAA1C;AAAgD,IAAA,QAAQ,EAAEI,YAA1D;AAAA;AAAA,IAFF,EAGE;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA,eAHF,EAIE;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,EAAE,EAAC,OAAvB;AAA+B,IAAA,KAAK,EAAED,KAAK,CAACF,KAA5C;AAAmD,IAAA,QAAQ,EAAEG,YAA7D;AAAA;AAAA,IAJF,EAKE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA,iBALF,CAnBF;AAAA;AAAA,4nIADF,CALF,CADF;AAqED,CAtED;;AAwEAT,YAAY,CAACU,eAAb,GAA+B,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACvBC,UAAAA,GADuB,aACdC,OAAO,CAACC,GAAR,CAAYC,GADE;AAAA;AAAA,2CAENjB,KAAK,CAACc,GAAD,CAFC;;AAAA;AAEvBI,UAAAA,QAFuB;AAAA;AAAA,2CAGVA,QAAQ,CAACC,IAAT,EAHU;;AAAA;AAGvBhB,UAAAA,IAHuB;AAAA,2CAKtB;AAAEA,YAAAA,IAAI,EAAJA;AAAF,WALsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA/B;;AAQA,eAAeD,YAAf","sourcesContent":["import Layout from '../components/MyLayout';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport axios from 'axios';\n\nconst CustomServer = ({ data }) => {\n  return (\n    <>\n      <Head>\n        <title>Custom server</title>\n        <meta name=\"description\" content=\"this is a tv route\" />\n      </Head>\n      <Layout>\n        <div>\n          <h2>Custom Server</h2>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                <th>USERS</th>\n                <th>@</th>\n              </tr>\n            </thead>\n            <tbody>\n              {data.map((user) => (\n                <tr key={user._id}>\n                  <td>{user.name}</td>\n                  <td>{user.email}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n\n          <form onSubmit={handleSubmit}>\n            <label htmlFor=\"name\">Name: </label>\n            <input type=\"text\" id=\"name\" value={state.name} onChange={handleChange} />\n            <label htmlFor=\"email\">Email: </label>\n            <input type=\"email\" id=\"email\" value={state.email} onChange={handleChange}/>\n            <button type=\"submit\">Save data</button>\n          </form>\n          <style jsx>\n            {`\n              table {\n                width: 50%;\n                margin: 2rem auto;\n                border: none;\n              }\n              thead {\n                background: #000;\n                color: #fff;\n              }\n              tbody {\n                margin-top: 10px;\n                background: #fff0cc;\n                color: #333;\n              }\n              th,\n              td {\n                border-radius: 2px;\n                padding: 0.5rem 1rem;\n                border: none;\n                box-shadow: 0 0 7px rgba(0,0,0,.3);\n              }\n              button {\n                margin-top: 2rem;\n                padding: 0.5rem 1rem;\n                background: black;\n                border: none;\n                color: white;\n              }\n            `}\n          </style>\n        </div>\n      </Layout>\n    </>\n  );\n};\n\nCustomServer.getInitialProps = async (ctx) => {\n  const url = `${process.env.URL}/auth`;\n  const response = await fetch(url);\n  const data = await response.json();\n\n  return { data };\n};\n\nexport default CustomServer;\n"]},"metadata":{},"sourceType":"module"}