{"ast":null,"code":"import allQuotes from '../../quotes.json';\nimport Cors from 'micro-cors';\nimport mongoose, { mongo } from 'mongoose';\nconst cors = Cors({\n  allowMethods: ['GET', 'HEAD']\n});\nconst UserSchema = mongoose.Schema({\n  name: {\n    type: String\n  }\n});\nconst UserModel = mongoose.model('User', UserSchema);\n\nconst handler = async (req, res) => {\n  await mongoose.connect(process.env.MONGO_URL, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n  });\n  mongoose.createConnection('your connection string');\n  let user = new UserModel(req.query);\n  await user.save();\n  res.status(200).json(user);\n};\n\nexport default cors(handler);","map":{"version":3,"sources":["/home/mike/Desktop/learning/nextjs-test/pages/api/randomQuote.js"],"names":["allQuotes","Cors","mongoose","mongo","cors","allowMethods","UserSchema","Schema","name","type","String","UserModel","model","handler","req","res","connect","process","env","MONGO_URL","useNewUrlParser","useUnifiedTopology","createConnection","user","query","save","status","json"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,mBAAtB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,QAAP,IAAmBC,KAAnB,QAAgC,UAAhC;AAEA,MAAMC,IAAI,GAAGH,IAAI,CAAC;AAChBI,EAAAA,YAAY,EAAE,CAAC,KAAD,EAAQ,MAAR;AADE,CAAD,CAAjB;AAIA,MAAMC,UAAU,GAAGJ,QAAQ,CAACK,MAAT,CAAgB;AACjCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAACC;AADD;AAD2B,CAAhB,CAAnB;AAMA,MAAMC,SAAS,GAAGT,QAAQ,CAACU,KAAT,CAAe,MAAf,EAAuBN,UAAvB,CAAlB;;AAEA,MAAMO,OAAO,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAElC,QAAMb,QAAQ,CAACc,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,SAA7B,EAAwC;AAC5CC,IAAAA,eAAe,EAAE,IAD2B;AAE5CC,IAAAA,kBAAkB,EAAE;AAFwB,GAAxC,CAAN;AAKAnB,EAAAA,QAAQ,CAACoB,gBAAT,CAA0B,wBAA1B;AAEA,MAAIC,IAAI,GAAG,IAAIZ,SAAJ,CAAcG,GAAG,CAACU,KAAlB,CAAX;AAEA,QAAMD,IAAI,CAACE,IAAL,EAAN;AACAV,EAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBJ,IAArB;AACD,CAbD;;AAeA,eAAenB,IAAI,CAACS,OAAD,CAAnB","sourcesContent":["import allQuotes from '../../quotes.json';\nimport Cors from 'micro-cors';\nimport mongoose, { mongo } from 'mongoose';\n\nconst cors = Cors({\n  allowMethods: ['GET', 'HEAD'],\n});\n\nconst UserSchema = mongoose.Schema({\n  name: {\n    type:String,\n  }\n})\n\nconst UserModel = mongoose.model('User', UserSchema);\n\nconst handler = async (req, res) => {\n\n  await mongoose.connect(process.env.MONGO_URL, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n  })\n\n  mongoose.createConnection('your connection string');\n\n  let user = new UserModel(req.query)\n\n  await user.save();\n  res.status(200).json(user)\n};\n\nexport default cors(handler);"]},"metadata":{},"sourceType":"module"}