{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../components/MyLayout';\nimport Link from 'next/link';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport axios from 'axios';\n\nvar Tv = function Tv(_ref) {\n  var shows = _ref.shows,\n      msg = _ref.msg;\n  console.log(msg);\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"tv\"), __jsx(\"meta\", {\n    name: \"description\",\n    content: \"this is a tv route\"\n  })), __jsx(Layout, null, __jsx(\"div\", {\n    className: \"jsx-1934089834\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-1934089834\"\n  }, \"Batman Tv show\"), __jsx(\"ul\", {\n    className: \"jsx-1934089834\"\n  }, shows.map(function (show) {\n    return __jsx(\"li\", {\n      key: show.id,\n      className: \"jsx-1934089834\"\n    }, __jsx(Link, {\n      href: \"/p/[id]\",\n      as: \"/p/\".concat(show.id)\n    }, __jsx(\"a\", {\n      className: \"jsx-1934089834\"\n    }, show.name)));\n  })), __jsx(\"button\", {\n    className: \"jsx-1934089834\"\n  }, msg.message), __jsx(_JSXStyle, {\n    id: \"1934089834\"\n  }, \"a.jsx-1934089834{color:#99ffcc;}button.jsx-1934089834{margin-top:2rem;padding:.5rem 1rem;background:black;border:none;color:white;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21pa2UvRGVza3RvcC9sZWFybmluZy9uZXh0anMtdGVzdC9wYWdlcy90di5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE0QmEsQUFHK0IsQUFHRSxjQUZsQixFQUdxQixtQkFDRixpQkFDTCxZQUNBLFlBQ2QiLCJmaWxlIjoiL2hvbWUvbWlrZS9EZXNrdG9wL2xlYXJuaW5nL25leHRqcy10ZXN0L3BhZ2VzL3R2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL015TGF5b3V0JztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtdW5mZXRjaCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG5cbmNvbnN0IFR2ID0gKHsgc2hvd3MsIG1zZyB9KSA9PiB7XG4gIGNvbnNvbGUubG9nKG1zZyk7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+dHY8L3RpdGxlPlxuICAgICAgICA8bWV0YSBuYW1lPVwiZGVzY3JpcHRpb25cIiBjb250ZW50PVwidGhpcyBpcyBhIHR2IHJvdXRlXCIgLz5cbiAgICAgIDwvSGVhZD5cbiAgICAgIDxMYXlvdXQ+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGgyPkJhdG1hbiBUdiBzaG93PC9oMj5cbiAgICAgICAgICA8dWw+XG4gICAgICAgICAgICB7c2hvd3MubWFwKChzaG93KSA9PiAoXG4gICAgICAgICAgICAgIDxsaSBrZXk9e3Nob3cuaWR9PlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvcC9baWRdXCIgYXM9e2AvcC8ke3Nob3cuaWR9YH0+XG4gICAgICAgICAgICAgICAgICA8YT57c2hvdy5uYW1lfTwvYT5cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDxidXR0b24+e21zZy5tZXNzYWdlfTwvYnV0dG9uPlxuICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICB7YFxuICAgICAgICAgICAgICBhIHtcbiAgICAgICAgICAgICAgICBjb2xvcjogIzk5ZmZjYztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBidXR0b24ge1xuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDJyZW07XG4gICAgICAgICAgICAgICAgcGFkZGluZzogLjVyZW0gMXJlbTtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBibGFjaztcbiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgfVxuICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9MYXlvdXQ+XG4gICAgPC8+XG4gICk7XG59O1xuXG5Udi5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyAoY3R4KSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS50dm1hemUuY29tL3NlYXJjaC9zaG93cz9xPWF2ZW5nZXJzJyk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICBjb25zb2xlLmxvZyhwcm9jZXNzLmVudi5VUkwpO1xuICBjb25zdCB1cmwgPSBgJHtwcm9jZXNzLmVudi5VUkx9L2F1dGg/MTUwYDtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGg/aG9sYScpO1xuICBjb25zdCBtc2cgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgcmV0dXJuIHsgbXNnLCBzaG93czogZGF0YS5tYXAoKGVudHJ5KSA9PiBlbnRyeS5zaG93KSB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVHY7XG4iXX0= */\\n/*@ sourceURL=/home/mike/Desktop/learning/nextjs-test/pages/tv.js */\"))));\n};\n\nTv.getInitialProps = function _callee(ctx) {\n  var res, data, url, response, msg;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch('https://api.tvmaze.com/search/shows?q=avengers'));\n\n        case 2:\n          res = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 5:\n          data = _context.sent;\n          console.log(process.env.URL);\n          url = \"\".concat(process.env.URL, \"/auth?150\");\n          _context.next = 10;\n          return _regeneratorRuntime.awrap(fetch('http://localhost:3000/auth?hola'));\n\n        case 10:\n          response = _context.sent;\n          _context.next = 13;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 13:\n          msg = _context.sent;\n          return _context.abrupt(\"return\", {\n            msg: msg,\n            shows: data.map(function (entry) {\n              return entry.show;\n            })\n          });\n\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default Tv;","map":{"version":3,"sources":["/home/mike/Desktop/learning/nextjs-test/pages/tv.js"],"names":["Layout","Link","Head","fetch","axios","Tv","shows","msg","console","log","map","show","id","name","message","getInitialProps","ctx","res","json","data","process","env","URL","url","response","entry"],"mappings":";;;;AAAA,OAAOA,MAAP,MAAmB,wBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,EAAE,GAAG,SAALA,EAAK,OAAoB;AAAA,MAAjBC,KAAiB,QAAjBA,KAAiB;AAAA,MAAVC,GAAU,QAAVA,GAAU;AAC7BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,SACE,4BACE,MAAC,IAAD,QACE,0BADF,EAEE;AAAM,IAAA,IAAI,EAAC,aAAX;AAAyB,IAAA,OAAO,EAAC;AAAjC,IAFF,CADF,EAKE,MAAC,MAAD,QACE;AAAA;AAAA,KACE;AAAA;AAAA,sBADF,EAEE;AAAA;AAAA,KACGD,KAAK,CAACI,GAAN,CAAU,UAACC,IAAD;AAAA,WACT;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACC,EAAd;AAAA;AAAA,OACE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAC,SAAX;AAAqB,MAAA,EAAE,eAAQD,IAAI,CAACC,EAAb;AAAvB,OACE;AAAA;AAAA,OAAID,IAAI,CAACE,IAAT,CADF,CADF,CADS;AAAA,GAAV,CADH,CAFF,EAWE;AAAA;AAAA,KAASN,GAAG,CAACO,OAAb,CAXF;AAAA;AAAA,upFADF,CALF,CADF;AAqCD,CAvCD;;AAyCAT,EAAE,CAACU,eAAH,GAAqB,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACDb,KAAK,CAAC,gDAAD,CADJ;;AAAA;AACbc,UAAAA,GADa;AAAA;AAAA,2CAEAA,GAAG,CAACC,IAAJ,EAFA;;AAAA;AAEbC,UAAAA,IAFa;AAGnBX,UAAAA,OAAO,CAACC,GAAR,CAAYW,OAAO,CAACC,GAAR,CAAYC,GAAxB;AACMC,UAAAA,GAJa,aAIJH,OAAO,CAACC,GAAR,CAAYC,GAJR;AAAA;AAAA,2CAKInB,KAAK,CAAC,iCAAD,CALT;;AAAA;AAKbqB,UAAAA,QALa;AAAA;AAAA,2CAMDA,QAAQ,CAACN,IAAT,EANC;;AAAA;AAMbX,UAAAA,GANa;AAAA,2CAQZ;AAAEA,YAAAA,GAAG,EAAHA,GAAF;AAAOD,YAAAA,KAAK,EAAEa,IAAI,CAACT,GAAL,CAAS,UAACe,KAAD;AAAA,qBAAWA,KAAK,CAACd,IAAjB;AAAA,aAAT;AAAd,WARY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAArB;;AAWA,eAAeN,EAAf","sourcesContent":["import Layout from '../components/MyLayout';\nimport Link from 'next/link';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport axios from 'axios'\n\nconst Tv = ({ shows, msg }) => {\n  console.log(msg);\n  return (\n    <>\n      <Head>\n        <title>tv</title>\n        <meta name=\"description\" content=\"this is a tv route\" />\n      </Head>\n      <Layout>\n        <div>\n          <h2>Batman Tv show</h2>\n          <ul>\n            {shows.map((show) => (\n              <li key={show.id}>\n                <Link href=\"/p/[id]\" as={`/p/${show.id}`}>\n                  <a>{show.name}</a>\n                </Link>\n              </li>\n            ))}\n          </ul>\n          <button>{msg.message}</button>\n          <style jsx>\n            {`\n              a {\n                color: #99ffcc;\n              }\n              button {\n                margin-top: 2rem;\n                padding: .5rem 1rem;\n                background: black;\n                border: none;\n                color: white;\n              }\n            `}\n          </style>\n        </div>\n      </Layout>\n    </>\n  );\n};\n\nTv.getInitialProps = async (ctx) => {\n  const res = await fetch('https://api.tvmaze.com/search/shows?q=avengers');\n  const data = await res.json();\n  console.log(process.env.URL);\n  const url = `${process.env.URL}/auth?150`;\n  const response = await fetch('http://localhost:3000/auth?hola');\n  const msg = await response.json();\n\n  return { msg, shows: data.map((entry) => entry.show) };\n};\n\nexport default Tv;\n"]},"metadata":{},"sourceType":"module"}