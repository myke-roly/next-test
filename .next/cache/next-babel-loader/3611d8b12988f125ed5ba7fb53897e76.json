{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../components/MyLayout';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport axios from 'axios';\nimport { useState } from 'react';\n\nvar CustomServer = function CustomServer(_ref) {\n  var data = _ref.data;\n\n  var _useState = useState({\n    name: '',\n    email: ''\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var fetchData = function fetchData() {\n    var response;\n    return _regeneratorRuntime.async(function fetchData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(axios.post('/auth', state));\n\n          case 2:\n            response = _context.sent;\n            console.log(data);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetchData();\n  }\n\n  function handleChange(e) {\n    setState(_defineProperty({}, e.target.name, e.target.name));\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"Custom server\"), __jsx(\"meta\", {\n    name: \"description\",\n    content: \"this is a tv route\"\n  })), __jsx(Layout, null, __jsx(\"div\", {\n    className: \"jsx-2323091855\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-2323091855\"\n  }, \"Custom Server\"), __jsx(\"table\", {\n    border: \"1\",\n    className: \"jsx-2323091855\"\n  }, __jsx(\"thead\", {\n    className: \"jsx-2323091855\"\n  }, __jsx(\"tr\", {\n    className: \"jsx-2323091855\"\n  }, __jsx(\"th\", {\n    className: \"jsx-2323091855\"\n  }, \"USERS\"), __jsx(\"th\", {\n    className: \"jsx-2323091855\"\n  }, \"@\"))), __jsx(\"tbody\", {\n    className: \"jsx-2323091855\"\n  }, data.map(function (user) {\n    return __jsx(\"tr\", {\n      key: user._id,\n      className: \"jsx-2323091855\"\n    }, __jsx(\"td\", {\n      className: \"jsx-2323091855\"\n    }, user.name), __jsx(\"td\", {\n      className: \"jsx-2323091855\"\n    }, user.email));\n  }))), __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-2323091855\"\n  }, __jsx(\"label\", {\n    htmlFor: \"name\",\n    className: \"jsx-2323091855\"\n  }, \"Name: \"), __jsx(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    name: \"name\",\n    value: state.name,\n    onChange: handleChange,\n    className: \"jsx-2323091855\"\n  }), __jsx(\"label\", {\n    htmlFor: \"email\",\n    className: \"jsx-2323091855\"\n  }, \"Email: \"), __jsx(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    value: state.email,\n    onChange: handleChange,\n    className: \"jsx-2323091855\"\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-2323091855\"\n  }, \"Save data\")), __jsx(_JSXStyle, {\n    id: \"2323091855\"\n  }, \"table.jsx-2323091855,form.jsx-2323091855{width:50%;margin:2rem auto;border:none;}thead.jsx-2323091855{background:#000;color:#fff;}tbody.jsx-2323091855{background:#fff0cc;color:#333;}th.jsx-2323091855,td.jsx-2323091855{border-radius:2px;padding:0.5rem 1rem;border:none;box-shadow:0 0 7px rgba(0,0,0,.3);}input.jsx-2323091855{width:100%;padding:.5rem 1rem;}button.jsx-2323091855{margin-top:2rem;padding:0.5rem 1rem;background:black;border:none;color:white;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21pa2UvRGVza3RvcC9sZWFybmluZy9uZXh0anMtdGVzdC9wYWdlcy9jdXN0b20tc2VydmVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZEYSxBQUcyQixBQUtNLEFBSUcsQUFLRCxBQU1QLEFBSUssVUF2QkMsQ0FvQkUsS0FmUixBQW1CUyxFQVZBLENBTFQsUUFSQyxBQUtkLEdBSUEsQUFXQSxNQUltQixFQVZMLENBYmQsV0Fjb0MsR0FVdEIsWUFDQSxZQUNkLE9BWEEiLCJmaWxlIjoiL2hvbWUvbWlrZS9EZXNrdG9wL2xlYXJuaW5nL25leHRqcy10ZXN0L3BhZ2VzL2N1c3RvbS1zZXJ2ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvTXlMYXlvdXQnO1xuaW1wb3J0IEhlYWQgZnJvbSAnbmV4dC9oZWFkJztcbmltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLXVuZmV0Y2gnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBDdXN0b21TZXJ2ZXIgPSAoeyBkYXRhIH0pID0+IHtcblxuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiAnJyxcbiAgICBlbWFpbDogJydcbiAgfSk7XG5cbiAgY29uc3QgZmV0Y2hEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnL2F1dGgnLCBzdGF0ZSk7XG4gICAgY29uc29sZS5sb2coZGF0YSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBmZXRjaERhdGEoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgc2V0U3RhdGUoeyBbZS50YXJnZXQubmFtZV06IGUudGFyZ2V0Lm5hbWV9KTtcbiAgfSBcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8SGVhZD5cbiAgICAgICAgPHRpdGxlPkN1c3RvbSBzZXJ2ZXI8L3RpdGxlPlxuICAgICAgICA8bWV0YSBuYW1lPVwiZGVzY3JpcHRpb25cIiBjb250ZW50PVwidGhpcyBpcyBhIHR2IHJvdXRlXCIgLz5cbiAgICAgIDwvSGVhZD5cbiAgICAgIDxMYXlvdXQ+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGgyPkN1c3RvbSBTZXJ2ZXI8L2gyPlxuICAgICAgICAgIDx0YWJsZSBib3JkZXI9XCIxXCI+XG4gICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGg+VVNFUlM8L3RoPlxuICAgICAgICAgICAgICAgIDx0aD5APC90aD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgIHtkYXRhLm1hcCgodXNlcikgPT4gKFxuICAgICAgICAgICAgICAgIDx0ciBrZXk9e3VzZXIuX2lkfT5cbiAgICAgICAgICAgICAgICAgIDx0ZD57dXNlci5uYW1lfTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+e3VzZXIuZW1haWx9PC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgPC90YWJsZT5cblxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJuYW1lXCI+TmFtZTogPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwibmFtZVwiIG5hbWU9XCJuYW1lXCIgdmFsdWU9e3N0YXRlLm5hbWV9IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9IC8+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImVtYWlsXCI+RW1haWw6IDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgaWQ9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiIHZhbHVlPXtzdGF0ZS5lbWFpbH0gb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX0vPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCI+U2F2ZSBkYXRhPC9idXR0b24+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICB7YFxuICAgICAgICAgICAgICB0YWJsZSwgZm9ybSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDUwJTtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDJyZW0gYXV0bztcbiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhlYWQge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDA7XG4gICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGJvZHkge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmYwY2M7XG4gICAgICAgICAgICAgICAgY29sb3I6ICMzMzM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGgsXG4gICAgICAgICAgICAgIHRkIHtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC41cmVtIDFyZW07XG4gICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCA3cHggcmdiYSgwLDAsMCwuMyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaW5wdXQge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IC41cmVtIDFyZW07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnV0dG9uIHtcbiAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAycmVtO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGJsYWNrO1xuICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGB9XG4gICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0xheW91dD5cbiAgICA8Lz5cbiAgKTtcbn07XG5cbkN1c3RvbVNlcnZlci5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyAoY3R4KSA9PiB7XG4gIGNvbnN0IHVybCA9IGAke3Byb2Nlc3MuZW52LlVSTH0vYXV0aGA7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICByZXR1cm4geyBkYXRhIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDdXN0b21TZXJ2ZXI7XG4iXX0= */\\n/*@ sourceURL=/home/mike/Desktop/learning/nextjs-test/pages/custom-server.js */\"))));\n};\n\nCustomServer.getInitialProps = function _callee(ctx) {\n  var url, response, data;\n  return _regeneratorRuntime.async(function _callee$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          url = \"\".concat(process.env.URL, \"/auth\");\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(fetch(url));\n\n        case 3:\n          response = _context2.sent;\n          _context2.next = 6;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 6:\n          data = _context2.sent;\n          return _context2.abrupt(\"return\", {\n            data: data\n          });\n\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  });\n};\n\nexport default CustomServer;","map":{"version":3,"sources":["/home/mike/Desktop/learning/nextjs-test/pages/custom-server.js"],"names":["Layout","Head","fetch","axios","useState","CustomServer","data","name","email","state","setState","fetchData","post","response","console","log","handleSubmit","e","preventDefault","handleChange","target","map","user","_id","getInitialProps","ctx","url","process","env","URL","json"],"mappings":"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","sourcesContent":["import Layout from '../components/MyLayout';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport axios from 'axios';\nimport { useState } from 'react';\n\nconst CustomServer = ({ data }) => {\n\n  const [state, setState] = useState({\n    name: '',\n    email: ''\n  });\n\n  const fetchData = async () => {\n    const response = await axios.post('/auth', state);\n    console.log(data);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetchData();\n  }\n\n  function handleChange(e) {\n    setState({ [e.target.name]: e.target.name});\n  } \n\n  return (\n    <>\n      <Head>\n        <title>Custom server</title>\n        <meta name=\"description\" content=\"this is a tv route\" />\n      </Head>\n      <Layout>\n        <div>\n          <h2>Custom Server</h2>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                <th>USERS</th>\n                <th>@</th>\n              </tr>\n            </thead>\n            <tbody>\n              {data.map((user) => (\n                <tr key={user._id}>\n                  <td>{user.name}</td>\n                  <td>{user.email}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n\n          <form onSubmit={handleSubmit}>\n            <label htmlFor=\"name\">Name: </label>\n            <input type=\"text\" id=\"name\" name=\"name\" value={state.name} onChange={handleChange} />\n            <label htmlFor=\"email\">Email: </label>\n            <input type=\"email\" id=\"email\" name=\"email\" value={state.email} onChange={handleChange}/>\n            <button type=\"submit\">Save data</button>\n          </form>\n          <style jsx>\n            {`\n              table, form {\n                width: 50%;\n                margin: 2rem auto;\n                border: none;\n              }\n              thead {\n                background: #000;\n                color: #fff;\n              }\n              tbody {\n                background: #fff0cc;\n                color: #333;\n              }\n              th,\n              td {\n                border-radius: 2px;\n                padding: 0.5rem 1rem;\n                border: none;\n                box-shadow: 0 0 7px rgba(0,0,0,.3);\n              }\n              input {\n                width: 100%;\n                padding: .5rem 1rem;\n              }\n              button {\n                margin-top: 2rem;\n                padding: 0.5rem 1rem;\n                background: black;\n                border: none;\n                color: white;\n              }\n            `}\n          </style>\n        </div>\n      </Layout>\n    </>\n  );\n};\n\nCustomServer.getInitialProps = async (ctx) => {\n  const url = `${process.env.URL}/auth`;\n  const response = await fetch(url);\n  const data = await response.json();\n\n  return { data };\n};\n\nexport default CustomServer;\n"]},"metadata":{},"sourceType":"module"}